
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrought"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>

	<!-- start traffic inf -->
	<meta name="viewport" content="initial-scale=1.0, width=device-width" />
	<link rel="stylesheet" type="text/css"
		href="https://js.api.here.com/v3/3.0/mapsjs-ui.css" />
	<script type="text/javascript" charset="UTF-8"
		src="https://js.api.here.com/v3/3.0/mapsjs-core.js"></script>
	<script type="text/javascript" charset="UTF-8"
		src="https://js.api.here.com/v3/3.0/mapsjs-service.js"></script>
	<script type="text/javascript" charset="UTF-8"
		src="https://js.api.here.com/v3/3.0/mapsjs-ui.js"></script>
	<script type="text/javascript" charset="UTF-8"
		src="https://js.api.here.com/v3/3.0/mapsjs-mapevents.js"></script>
	<!-- end traffic    inf  -->
	<meta charset="utf-8" />
	<link rel="icon" type="image/png"
		href="#{request.contextPath}/resources/userTemplateResource/img/favicon.ico"></link>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>My map</title>


	<meta
		content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'
		name='viewport' />
	<meta name="viewport" content="width=device-width" />






	<!-- Bootstrap core CSS     -->
	<link
		href="#{request.contextPath}/resources/userTemplateResource/css/bootstrap.min.css"
		rel="stylesheet"></link>

	<!-- Animation library for notifications   -->
	<link
		href="#{request.contextPath}/resources/userTemplateResource/css/animate.min.css"
		rel="stylesheet"></link>

	<!--  Light Bootstrap Table core CSS    -->
	<link
		href="#{request.contextPath}/resources/userTemplateResource/css/light-bootstrap-dashboard.css"
		rel="stylesheet"></link>


	<!--  CSS for Demo Purpose, don't include it in your project     -->
	<link
		href="#{request.contextPath}/resources/userTemplateResource/css/demo.css"
		rel="stylesheet" />


	<!--     Fonts and icons     -->
	<link
		href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"
		rel="stylesheet"></link>
	<link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300'
		rel='stylesheet' type='text/css'></link>
	<link
		href="#{request.contextPath}/resources/userTemplateResource/css/pe-icon-7-stroke.css"
		rel="stylesheet"></link>

</h:head>
<h:body>


	<div class="wrapper">
		<ui:include src="/templates/UserTemplate/lefsidebar.xhtml" />

		<div class="main-panel">
		<ui:include src="/templates/UserTemplate/upsidebar.xhtml" />


			<div class="content">
				<div class="container-fluid">
					<div class="row">




						<div class="col-md-6" style="width: 85%">

							<h:form>
								<!-- <p:inputText value="#{tripsbean.feedString}"></p:inputText> -->

								<br></br>

								<p:selectOneMenu value="#{tripsbean.feedString}">
								   
									<f:selectItem itemLabel="first" itemValue="10020361081078366" />
									<f:selectItem itemLabel="second" itemValue="21" />

									<f:ajax listener="#{tripsbean.updateTrip()}" render="tableID" />
									<!--render contien @form @this ou l'id du composant a rendre -->
									<!--          <p:ajax listener="#{tripsbean.updateTrip()}" update="tableID" process="@this" /> -->
									<!--           @this pour dire rendre Render only this component, the component that triggered the Ajax request -->
									<!--          //ici j'ai utilisé ajax au lieu de onchangelistner parce que avec  onchange listner toute la forme va étre renvoyé  update{le nom du composan tqui va etre mi sà jours -->

								</p:selectOneMenu>
								<p:selectOneMenu value="#{tripsbean.feedString}">
								   <f:selectItems  value="#{tripsbean.uniqueMyFeeds}"/>
<!-- 									<f:selectItem itemLabel="first" itemValue="10020361081078366" /> -->
<!-- 									<f:selectItem itemLabel="second" itemValue="21" /> -->

									<f:ajax listener="#{tripsbean.updateTrip()}" render="tableID" />
								</p:selectOneMenu>

								<p:dataTable id="tableID" var="trip" rows="10" paginator="true"
									value="#{tripsbean.trips}">


									<p:column headerText="Arrival Time" style="width:200px;" >
									
										<h:outputText value="#{trip.arrivaTime}" />
									</p:column>
									<p:column headerText="Departure  Time" style="width:200px; ">

										<h:outputText value="#{trip.departureTime}" />
									</p:column>

									<p:column  headerText="Station" style="width:200px;">
									
										<h:outputText
											value="#{tripsbean.findStationNameById(trip.stopId)}" />
									</p:column>





								</p:dataTable>

							</h:form>
							<!--          <p:dataTable var="trip"  -->
							<!--                 rows="10" -->
							<!--                 paginator="true" -->
							<!--                 value="#{tripsbean.trips}	"> -->
							<!--     <p:column  style="width:200px;" > -->
							<!--         <h:outputText value="#{trip.arrivaTime}" /> -->
							<!--     </p:column> -->
							<!--    <p:column  style="width:200px;" > -->
							<!--         <h:outputText value="#{trip.departureTime}" /> -->
							<!--     </p:column> -->
							<!--    <p:column  style="width:200px;" > -->
							<!--        <h:outputText value="#{}" /> -->
							<!--     </p:column> -->



							<!-- </p:dataTable> -->
						</div>





					</div>
				</div>
			</div>


		</div>
	</div>

</h:body>

<!--   Core JS Files   -->

<script
	src="#{request.contextPath}/resources/userTemplateResource/js/bootstrap.min.js"
	type="text/javascript"></script>

<!--  Checkbox, Radio & Switch Plugins -->
<script
	src="#{request.contextPath}/resources/userTemplateResource/js/bootstrap-checkbox-radio-switch.js"></script>

<!--  Charts Plugin -->
<script
	src="#{request.contextPath}/resources/userTemplateResource/js/chartist.min.js"></script>

<!--  Notifications Plugin    -->
<script
	src="#{request.contextPath}/resources/userTemplateResource/js/bootstrap-notify.js"></script>

<!--  Google Maps Plugin    -->


<!-- Light Bootstrap Table Core javascript and methods for Demo purpose -->
<script
	src="#{request.contextPath}/resources/userTemplateResource/js/light-bootstrap-dashboard.js"></script>

<!-- Light Bootstrap Table DEMO methods, don't include it in your project! -->
<script
	src="#{request.contextPath}/resources/userTemplateResource/js/demo.js"></script>

</html>
